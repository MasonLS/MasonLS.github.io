<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mason Seale</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <style>

      /* NAVBAR */

      .navbar {
        background-color: white;
        border: none;
        border-bottom: 2px solid black;
        border-radius: 0px;
      }
      .navbar-text {
        color: black;
      }
      .navbar-brand {
        color: black;
        font-weight: bold;
        font-size: 16px;
      }
      .navbar-brand:hover {
        color: black;
        text-decoration: underline;
      }
      .navbar-brand:visited {
        color: black;
      }
      .navbar p {
        font-size: 14px;
      }
      .nav.navbar-nav .navbar-brand {
        background-color: transparent;
      }
      .nav.navbar-nav .dropdown .navbar-brand {
        background-color: transparent;
      }
      .dropdown-menu>li>a:focus {
        text-decoration: underline;
        background-color: transparent;
      }
      .dropdown-menu>li>a:hover {
        text-decoration: underline;
        background-color: transparent;
      }
      .nav.navbar-nav .navbar-brand:hover {
        text-decoration: underline;
      }

      /* ABOUT */

      #about {
        margin-top: 5%;
      }
      #about img {
        width: 275px;
        height: 275px;
      }
      #about h1 {
        font-size: 60px;
      }
      #about p {
        font-size: 16px;
        line-height: 3rem;
        text-indent: 30px;
      }

      /* PROJECTS */
      #project-detail img, #video {
        margin: 20px;
        width: 560px;
        float: left;
      }

      #projects-silo {
        max-height: 100vh;
        overflow-y: scroll;
        overflow-x: scroll;
      }
      #projects-silo img {
        width: 100%;
        height: auto;
      }
      #projects-silo img:hover {
        opacity: .3;
      }
      #projects-silo .img-container {
        margin-top: 10px;
      }
      .img-container {
        border: 2px solid black;
      }
      #project-detail {
        margin-top: 10px;
      }
      #project-detail h1 {
        margin-bottom: 15px;
      }
    </style>
  </head>
  <body>

     <!-- COMPONENT TEMPLATES -->

    <!-- ABOUT -->

    <script type="text/x-template" id="about-template">
      <div>
        <navbar></navbar>
        <div class="col-sm-8 col-sm-offset-2" id="about">
          <div class="row">
            <div class="col-md-6">
              <img class="img-circle img-responsive center-block" src="http://i.imgur.com/cXbceDq.jpg">
            </div>
            <div class="col-md-6">
              <h1>Hi,</h1>
              <p>
                I'm Mason and I like to build things out of JavaScript. I used to make a living buying and selling art books. While I was doing that, I learned to program.
                Then it became "a thing." Now I can't stop. I've tried various New Age forms of therapy. The only thing that seems to help is science fiction.
                Sometimes, if I think about science fiction - close my eyes, take a deep breath, think about aliens - my fingers will start to stray
                from their key-bindings...
              </p>
            </div>
          </div>
        </div>
      </div>
    </script>

    <!-- SILO PROJECT -->
    <script type="text/x-template" id="silo-project-template">
      <div class="col-md-12 col-xs-4">
        <div class="img-container">
          <a href="#" v-on:click.prevent="setSelectedProject"><img :src="project.imageURL" class="mg-responsive center-block"></img></a>
        </div>
      </div>
    </script>

    <!-- PROJECT DETAIL -->
    <script type="text/x-template" id="project-detail-template">
      <div class="col-md-9 col-xs-12 img-container" id="project-detail">
          <img :src="project.imageURL" class="img-responsive center-block"></img>
          <h1>{{ project.name }}</h1>
          <p>
            {{ project.description }}
          </p>
      </div>
    </script>

    <!-- PROJECTS -->
    <script type="text/x-template" id="projects-template">
      <div>
      <navbar></navbar>
        <div class="container" id="projects">
          <div class="row">
            <project-detail :project="selectedProject"></project-detail>
            <div class="col-md-3 col-xs-12" id="projects-silo">
              <silo-project v-for="(project, index) in projects" :project="project" :index="index" :key="index" v-on:select="setSelectedProject"></silo-project>
            </div>
          </div>
        </div>
      </div>
    </script>

    <!-- V-LINK -->
    <script type="text/x-template" id="v-link-template">
      <a class="navbar-brand" v-bind:href="href" v-bind:class="{ active: isActive }" v-on:click="go">
        <slot></slot>
      </a>
    </script>

    <!-- NAVBAR -->
    <script type="text/x-template" id="navbar-template">
      <nav class="navbar">
        <div class="container-fluid">
          <ul class="nav navbar-nav">
            <li><v-link href="/">About</v-link></li>
            <li><v-link href="/projects">Projects</v-link></li>
            <li><a class="navbar-brand" href="https://drive.google.com/open?id=0Bxrqe7IWOMmtcWJ3alAwNWcyWDA">Resume</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle navbar-brand" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Links <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="https://github.com/MasonLS">GitHub</a></li>
                <li><a href="https://www.linkedin.com/in/mason-seale-206690126">LinkedIn</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="https://cryptify.herokuapp.com">Cryptify</a></li>
              </ul>
            </li>
          </ul>
          <div class="navbar-right collapse navbar-collapse">
            <p class="navbar-text">masonseale88@gmail.com</p>
          </div>
        </div>
      </nav>
    </script>

    <!-- HTML -->

    <div id="app" class="container-fluid"></div>

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script type="text/javascript">

      const projects = [
        {
          name: 'Cryptify',
          description: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
          imageURL: 'http://i.imgur.com/vFMx4DC.png'
        },
        {
          name: 'Liger',
          description: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
          imageURL: 'http://i.imgur.com/YlNjOZV.png'
        },
        {
          name: 'Cryptify',
          description: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
          imageURL: 'http://i.imgur.com/vFMx4DC.png'
        }
      ];

      const routes = {
        '/': 'about',
        '/projects': 'projects'
      }

      Vue.component('about', {
        template: '#about-template'
      });

      Vue.component('projects', {
        template: '#projects-template',
        data: function() {
          return {
            projects: projects,
            selectedProject: projects[0]
          }
        },
        methods: {
          setSelectedProject: function(index) {
            this.selectedProject = this.projects[index];
          }
        }
      });

      Vue.component('silo-project', {
        template: '#silo-project-template',
        props: {
          index: {
            type: Number,
            required: true
          },
          project: {
            type: Object,
            required: true
          }
        },
        methods: {
          setSelectedProject: function() {
            this.$emit('select', this.index);
          }
        }
      });

      Vue.component('project-detail', {
        template: '#project-detail-template',
        props: {
          project: {
            type: Object,
            required: true
          }
        }
      });

      Vue.component('v-link', {
        template: '#v-link-template',
        props: {
          href: String,
          required: true
        },
        computed: {
          isActive () {
            return this.href === this.$root.currentRoute;
          }
        },
        methods: {
          go (event) {
            event.preventDefault();
            this.$root.currentRoute = this.href;
            window.history.pushState(
              null,
              routes[this.href],
              this.href
            );
          }
        }
      });

      Vue.component('navbar', {
        template: '#navbar-template'
      });

      const app = new Vue({
        el: '#app',
        data: {
          currentRoute: window.location.pathname
        },
        computed: {
          ViewComponent () {
            return routes[this.currentRoute] || About
          }
        },
        render (h) { return h(this.ViewComponent) }
      });

      window.addEventListener('popstate', () => {
        app.currentRoute = window.location.pathname
      });

    </script>
  </body>
</html>
